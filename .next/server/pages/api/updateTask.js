"use strict";(()=>{var e={};e.id=532,e.ids=[532],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},3392:e=>{e.exports=import("firebase/storage")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},2230:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>d,default:()=>u,routeModule:()=>c});var s=a(1802),n=a(7153),o=a(6249),i=a(738),p=e([i]);i=(p.then?(await p)():p)[0];let u=(0,o.l)(i,"default"),d=(0,o.l)(i,"config"),c=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/updateTask",pathname:"/api/updateTask",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},7192:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{db:()=>d,l2:()=>u});var s=a(3745),n=a(1492),o=a(3392),i=a(401),p=e([s,n,o,i]);[s,n,o,i]=p.then?(await p)():p;let u=(0,s.getApps)().length?(0,s.getApp)():(0,s.initializeApp)({apiKey:"AIzaSyBRVPRrAWtpWt10IOTw8TTNIfuxcpnaLxo",authDomain:"taktr-app.firebaseapp.com",projectId:"taktr-app",storageBucket:"taktr-app.appspot.com",messagingSenderId:"683183285107",appId:"1:683183285107:web:cd34625a816437f84f9b06"}),d=(0,n.getFirestore)(u);(0,o.getStorage)(u),r()}catch(e){r(e)}})},738:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>i});var s=a(7192),n=a(1492),o=e([s,n]);async function i(e,t){if("PATCH"!==e.method)return t.status(405).json({error:"Method not allowed. Use PATCH instead."});try{let{projectId:a,taskId:r,updates:o}=e.body;if(!a||!r||!o)return t.status(400).json({error:"Missing projectId, taskId, or updates in request body"});if(o.name&&"string"!=typeof o.name)return t.status(400).json({error:"Task name must be a string"});if(o.startDate&&isNaN(Date.parse(o.startDate)))return t.status(400).json({error:"Invalid startDate format"});if(o.endDate&&isNaN(Date.parse(o.endDate)))return t.status(400).json({error:"Invalid endDate format"});let i=(0,n.doc)(s.db,"projects",a,"tasks",r);if(!(await (0,n.getDoc)(i)).exists())return t.status(404).json({error:"Task not found"});await (0,n.updateDoc)(i,o);let p=await (0,n.getDoc)(i);t.status(200).json({message:"Task updated successfully",task:{id:r,...p.data()}})}catch(e){console.error("Error updating task:",e),t.status(500).json({error:e.message||"Internal server error"})}}[s,n]=o.then?(await o)():o,r()}catch(e){r(e)}})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=2230);module.exports=a})();