"use strict";exports.id=993,exports.ids=[993],exports.modules={2993:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var r=s(997),l=s(6689),i=s(252),d=s(1492),n=e([i,d]);[i,d]=n.then?(await n)():n;let x=e=>{if(!e)return null;let t=new Date(e);return isNaN(t.getTime())?null:t},o=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`;function c({projectId:e}){let[t,s]=(0,l.useState)([]),[a,i]=(0,l.useMemo)(()=>{let e=null,s=null;for(let a of t){let t=x(a.startDate),r=x(a.endDate);t&&(!e||t<e)&&(e=t),r&&(!s||r>s)&&(s=r)}if(!e||!s){let e=new Date,t=new Date;return t.setDate(t.getDate()+14),[e,t]}return[e,s]},[t]),d=(0,l.useMemo)(()=>{let e=[],t=new Date(a);t.setHours(0,0,0,0);let s=new Date(i);for(s.setHours(0,0,0,0);t<=s;)e.push(new Date(t)),t.setDate(t.getDate()+1);return e},[a,i]),n=(0,l.useMemo)(()=>[...t].sort((e,t)=>(e.startDate||"").localeCompare(t.startDate||"")),[t]),c=e=>{let t=x(e);if(!t)return 0;let s=Math.round((t.getTime()-new Date(o(a)).getTime())/864e5);return 18*Math.max(0,s)},m=(e,t)=>{let s=x(e),a=x(t);return s&&a?18*Math.max(1,Math.round((a.getTime()-s.getTime())/864e5)+1):18};return(0,r.jsxs)("div",{className:"rounded border bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b px-3 py-2",children:[r.jsx("div",{className:"font-semibold",children:"Gantt"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[o(a)," → ",o(i)," • ",n.length," tasks"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-[260px_1fr]",children:[(0,r.jsxs)("div",{className:"border-r",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b px-3 py-2 text-xs font-semibold",children:"Task"}),r.jsx("div",{children:n.map(e=>(0,r.jsxs)("div",{className:"border-b px-3 py-2 text-sm",children:[r.jsx("div",{className:"truncate",children:e.name||r.jsx("span",{className:"text-gray-400",children:"—"})}),(0,r.jsxs)("div",{className:"text-[11px] text-gray-500",children:[e.trade?`${e.trade} • `:"",e.status||""]})]},e.id))})]}),(0,r.jsxs)("div",{className:"overflow-x-auto",children:[r.jsx("div",{className:"sticky top-0 z-10 flex border-b bg-white",children:d.map((e,t)=>(0,r.jsxs)("div",{className:"border-r px-2 py-2 text-center text-[10px]",style:{width:18},title:o(e),children:[e.getMonth()+1,"/",e.getDate()]},t))}),r.jsx("div",{children:n.map(e=>r.jsx("div",{className:"relative border-b",style:{height:28},children:r.jsx("div",{className:"absolute top-1 h-5 rounded bg-blue-500/80",style:{left:c(e.startDate),width:m(e.startDate,e.endDate),minWidth:10},title:`${e.name}
${e.startDate||"?"} → ${e.endDate||"?"}`})},e.id))})]})]})]})}a()}catch(e){a(e)}})}};